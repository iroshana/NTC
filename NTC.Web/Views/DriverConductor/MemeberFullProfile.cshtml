
@{
    ViewBag.Title = "Profile";
}

<!-- page content -->
<div class="right_col" role="main" id="fullyDetails">
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>User Profile</h3>
            </div>
        </div>

        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Member Details</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="col-md-3 col-sm-3 col-xs-12 profile_left">
                            <div class="row">
                                <div class="col-sm-12 col-xs-12">
                                    <div id="item-img-result">
                                        <img class="img-responsive avatar-view" src="~/Images/appimg/user.png" alt="Avatar" title="Change the avatar">
                                    </div>
                                </div>
                            </div>
                            <br />
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-12">
                            <div class="x_content">
                                <br />
                                <div class="" role="tabpanel" data-example-id="togglable-tabs">
                                    <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                                        <li role="presentation" class="active">
                                            <a href="#tab_content1" id="personaldetails" role="tab" data-toggle="tab" aria-expanded="true">Personal Details</a>
                                        </li>
                                        <li role="presentation" class="" v-show="role == 'ADMIN'">
                                            <a href="#tab_content2" role="tab" id="complain" data-toggle="tab" aria-expanded="false">Complain Management</a>
                                        </li>
                                        <li role="presentation" class="">
                                            <a href="#tab_content3" role="tab" id="demerit" data-toggle="tab" aria-expanded="false">De Merit System</a>
                                        </li>
                                        <li role="presentation" class="" v-show="role == 'ADMIN'">
                                            <a href="#tab_content4" role="tab" id="notice" data-toggle="tab" aria-expanded="false">Notice</a>
                                        </li>
                                    </ul>
                                    <div id="myTabContent" class="tab-content">
                                        <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="personaldetails">
                                            <!--Start Personal Details-->
                                            <form class="form-horizontal form-label-left">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Type</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.type" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">NIC No</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.nic" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Date of Birth</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input id="dob" type="text" class="form-control" v-model="memeber.dob" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Full Name</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input id="fullName" type="text" class="form-control" v-model="memeber.fullName" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Name With Initial</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" readonly="readonly" v-model="memeber.nameWithInitial">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Permanet Address</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea class="form-control" rows="3" v-model="memeber.permanetAddress" readonly="readonly"></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Current Address</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea class="form-control" rows="3" v-model="memeber.currentAddress" readonly="readonly"></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Training Cetificate No</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.cetificateNo" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Training Center</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.trainingCenter" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Driving Licence No</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.licenceNo" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Date Issued</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input id="dateIssued" type="text" class="form-control" v-model="memeber.dateIssued" readonly="readonly">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Date Validity</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input id="dateValidity" type="text" class="form-control" v-model="memeber.dateValidity" readonly="readonly">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Highest Education Qualification</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" v-model="memeber.educationQuali" readonly="readonly">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Date Joined</label>
                                                    <div class="col-md-9">
                                                        <input id="dateJoined" type="text" class="form-control" v-model="memeber.dateJoin" readonly="readonly">
                                                    </div>
                                                </div>
                                            </form>
                                            <!--End Personal Details-->

                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="complain">
                                            <!--Start Complain-->
                                            <div class="form-horizontal form-label-left">
                                                <div class="form-group">
                                                    <div class="col-md-12 pull-right">
                                                        <a href="#" class="btn btn-primary" v-on:click="addComplain">Add Complain</a>
                                                    </div>
                                                </div>
                                                <br />
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Complaint No<span class="required">*</span></label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <select class="form-control" v-model="complainNo" v-on:change="getSelectedComplain(complainNo)">
                                                            <option v-for="complain in complainList" v-bind:value="complain">{{complain}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <!--complain-->
                                                <div class="col-md-6">
                                                    <div class="form-horizontal form-label-left">
                                                        <h5>Complain Detials</h5>
                                                        <div class="x_content">
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Complain No<span class="required">*</span></label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.complainNo" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Bus No<span class="required">*</span></label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.bus.busNo" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Route No<span class="required">*</span></label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" readonly="readonly" v-model="complainVm.bus.route.routeNo">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-1 col-sm-1 col-xs-12">From</label>
                                                                <div class="col-md-4 col-sm-4 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" readonly="readonly" v-model="complainVm.bus.route.from">
                                                                </div>
                                                                <label class="control-label col-md-1 col-sm-1 col-xs-12">To</label>
                                                                <div class="col-md-4 col-sm-4 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" readonly="readonly" v-model="complainVm.bus.route.to">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Place of Complain</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.place" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Complain Date</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input id="dateComplain" type="text" placeholder="MM/DD/YYYY" class="form-control fc-datepicker hasDatepicker" v-model="complainVm.complainDate" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Method</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.method" readonly="readonly">                                                                    
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Complainer Name</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.complainerName" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Complainer Address</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.complainerAddress" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Complainer TEl No</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="text" class="form-control" placeholder="" v-model="complainVm.telNo" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-6 col-sm-6 col-xs-12">Complainer Participating Inquiry</label>
                                                                <div class="col-md-4 col-sm-4 col-xs-12">
                                                                    <input type="checkbox" class="form-control" v-model="complainVm.isInqueryParticipation" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-6 col-sm-6 col-xs-12">Availability of written evidence</label>
                                                                <div class="col-md-4 col-sm-4 col-xs-12">
                                                                    <input type="checkbox" class="form-control" v-model="complainVm.isEvidenceHave" readonly="readonly">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-3 col-sm-3 col-xs-12">Evidence for complain</label>
                                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                                    <input type="file" class="form-control">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-6">
                                                    <div class="form-horizontal">
                                                        <h5>Complain Category</h5>
                                                        <div class="x_content">
                                                            <div class="form-group" v-for="category in categoryList">
                                                                <div class="col-md-2 col-sm-2">
                                                                    <input type="checkbox" class="form-control" v-model="category.isSelected">
                                                                </div>
                                                                <label class="control-label col-md-6 col-sm-6 col-xs-12">{{category.description}}</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- complain-->

                                                @*<div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Complain</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <input type="text" class="form-control" readonly="readonly" v-model="complainMgt.description">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Complains Category</label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <table class="table table-hover table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th>Category No</th>
                                                                    <th>Description</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr v-for="cat in complainMgt.Category">
                                                                    <td>{{ cat.categoryNo}}</td>
                                                                    <td>{{ cat.description}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>*@
                                            </div>
                                            <!--End Complain-->
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="demerit">
                                            <!--Start De Merit-->
                                            <div class="form-horizontal form-label-left">
                                                <div class="form-group">
                                                    <div class="col-md-12 pull-right">
                                                        <a href="#" class="btn btn-primary" v-on:click="addPoint">Add Point</a>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-3 col-sm-3 col-xs-12">Record No<span class="required">*</span></label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <select class="form-control" v-model="demeritNo" v-on:change="getSelectedDeMerit(demeritNo)">
                                                            <option v-for="demerit in deMeritRecordList" v-bind:value="demerit.id">{{demerit.deMeritNo}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <ul>
                                                    <li class="red">RED - Cancelation of the Licence</li>
                                                    <li class="purple">PURPLE - Punishment Trainig</li>
                                                    <li class="blue">BLUE - Fine Payments</li>
                                                    <li class="green">GREEN - Advising Panel</li>
                                                </ul>
                                                <table class="table table-bordered table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th>No</th>
                                                            <th>Description</th>
                                                            <th>Points</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr v-for="de in deMeritMgt.memberDeMerit">
                                                            <td>{{ de.code}}</td>
                                                            <td v-bind:class="de.colorCode == '1' ? 'red' : de.colorCode == '2' ? 'green' : de.colorCode == '3' ? 'purple' : 'blue'">{{ de.description}}</td>
                                                            <td>{{ de.point}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <!--End De Merit-->
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="tab_content4" aria-labelledby="notice">
                                            <!--Start Notice-->
                                            <div class="form-horizontal form-label-left">
                                                <div class="form-group">
                                                    <div class="col-md-12 pull-right">
                                                        <button class="btn btn-primary" v-on:click="noticeModalShow"><i class="fa fa-circle-o-notch"></i> Add Notice</button>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="row top_tiles" style="margin: 10px 0;">
                                                        <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12" v-for="note in noticeList">
                                                            <div class="tile-stats">
                                                                <h5><strong>Notice</strong></h5>
                                                                <p>{{ note.Content }}</p>
                                                                <br />
                                                                <div class="clearfix"></div>
                                                                <div class="col-md-6"></div>
                                                                <div class="col-md-2">
                                                                    <button class="btn btn-default" v-on:click="sendMsg">Send</button>
                                                                </div>                                                                
                                                            </div>
                                                            <br />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--End Notice-->
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /page content -->



<!--Notice Modal-->

<div class="modal fade bs-example-modal-sm" id="noticeModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title" id="myModalLabel2">Add New Notice</h4>
            </div>
            <div class="modal-body">
                <h4>Notice</h4>
                <textarea class="form-control" rows="6" placeholder='Enter Notice' v-model="noticeVm.Content"></textarea>
                <small class="text-danger" v-show="!noticeVm.Content && submit">Note is Required</small>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" v-on:click="saveNotice">Add Notice</button>
            </div>
        </div>
    </div>
</div>


@*Start Alert*@

<div aria-labelledby="myModalLabel" role="dialog" id="alertModal" class="modal fade" aria-hidden="true">
    <div class="modal-dialog modal-val">
        <div class="modal-content">
            <div class="modal-header" v-bind:class="{'alert-success' : isSuccess, 'alert-danger' : !isSuccess}">
                <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                <h3 class="bold-700">{{header}}</h3>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-xs-12" id="alertInfo">
                        <div class="alert rounded" id="alert">
                            <div class="icon center-block text-center"><i class="fa fa-4x" v-bind:class="{'fa-close' : !isSuccess, 'fa-check': isSuccess}"></i></div>
                            <span class="center-block text-center" id="alertMessage">{{alertMessage}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="btn" v-bind:class="{'btn-success' : isSuccess, 'btn-danger' : !isSuccess}" type="button" id="closeAlert"><i class="fa fa-times-circle"></i> Close</button>
            </div>
        </div>
    </div>
</div>

@*End Alert*@

<script src="~/Scripts/ntc/memberfullyprofile.js"></script>